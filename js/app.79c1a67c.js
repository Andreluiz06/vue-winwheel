(function(t){function e(e){for(var n,r,h=e[0],l=e[1],o=e[2],u=0,g=[];u<h.length;u++)r=h[u],s[r]&&g.push(s[r][0]),s[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);c&&c(e);while(g.length)g.shift()();return a.push.apply(a,o||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],n=!0,h=1;h<i.length;h++){var l=i[h];0!==s[l]&&(n=!1)}n&&(a.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},s={app:0},a=[];function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var h=window["webpackJsonp"]=window["webpackJsonp"]||[],l=h.push.bind(h);h.push=e,h=h.slice();for(var o=0;o<h.length;o++)e(h[o]);var c=l;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var n=i("64a9"),s=i.n(n);s.a},"1d7c":function(t,e,i){"use strict";var n=i("610c"),s=i.n(n);s.a},"56d7":function(t,e,i){"use strict";i.r(e);var n=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("vue-winwheel")],1)},a=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"vue-winwheel"},[i("div",{staticClass:"mobile-container"},[i("h1",[t._v("Vue-Winwheel")]),i("div",{staticClass:"wheel-wrapper"},[t._m(0),i("div",{staticClass:"button-wrapper"},[t.loadingPrize||t.wheelSpinning?t._e():i("a",{staticClass:"btn btn-play",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.startSpin()}}},[t._v("SPIN!")])])])]),t.modalPrize?i("div",{staticClass:"custom-modal modal-mask",attrs:{id:"modalSpinwheel"}},[i("div",{attrs:{slot:"body"},slot:"body"},[i("a",{staticClass:"modal-dismiss",attrs:{href:""},on:{click:function(e){e.preventDefault(),t.hidePrize()}}},[i("i",{staticClass:"icon_close"})]),i("h2",[t._v("\n\t\t\t\tYay you got the prize!!\n\t\t\t")]),i("h1",[t._v(" "+t._s(t.prizeName))])])]):t._e()])},h=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"canvas-wrapper"},[i("canvas",{attrs:{id:"canvas",width:"310",height:"310"}},[i("p",{staticStyle:{"{color":"white}"},attrs:{align:"center"}},[t._v("Sorry, your browser doesn't support canvas. Please try Google Chrome.")])])])}],l=i("b0fb"),o={name:"VueWinWheel",props:{segments:{default(){return[{textFillStyle:"#fff",fillStyle:"#000",text:"Prize 1"},{textFillStyle:"#000",fillStyle:"#fadede",text:"Prize 2"},{textFillStyle:"#fff",fillStyle:"#000",text:"Prize 3"},{textFillStyle:"#000",fillStyle:"#fadede",text:"Prize 4"},{textFillStyle:"#fff",fillStyle:"#000",text:"Prize 5"},{textFillStyle:"#000",fillStyle:"#fadede",text:"Prize 6"},{textFillStyle:"#fff",fillStyle:"#000",text:"Prize 7"},{textFillStyle:"#000",fillStyle:"#fadede",text:"Prize 8"}]}}},data(){return{loadingPrize:!1,theWheel:null,modalPrize:!1,wheelPower:1,wheelSpinning:!1,prizeName:"BUY 1 GET 1",WinWheelOptions:{textFontSize:14,outterRadius:410,innerRadius:25,lineWidth:8,animation:{type:"spinOngoing",duration:.5}}}},methods:{showPrize(){this.modalPrize=!0},hidePrize(){this.modalPrize=!1},startSpin(){if(!1===this.wheelSpinning){this.theWheel.startAnimation(),this.wheelSpinning=!0,this.theWheel=new l["a"]({...this.WinWheelOptions,numSegments:this.segments.length,segments:this.segments,animation:{type:"spinToStop",duration:5,spins:5,callbackFinished:this.onFinishSpin}});var t=Math.floor(Math.random()*this.segments.length),e=360/this.segments.length*t-360/this.segments.length/2;this.theWheel.animation.stopAngle=e,this.theWheel.startAnimation(),this.wheelSpinning=!1}},resetWheel(){this.theWheel=new l["a"]({...this.WinWheelOptions,numSegments:this.segments.length,segments:this.segments}),this.wheelSpinning&&this.theWheel.stopAnimation(!1),this.theWheel.rotationAngle=0,this.theWheel.draw(),this.wheelSpinning=!1},initSpin(){this.loadingPrize=!0,this.resetWheel(),this.loadingPrize=!1},onFinishSpin(t){this.prizeName=t.text,this.showPrize()}},computed:{},updated(){},mounted(){this.initSpin()},created(){}},c=o,u=(i("1d7c"),i("2877")),g=Object(u["a"])(c,r,h,!1,null,"12d1e501",null);g.options.__file="VueWinwheel.vue";var d=g.exports,m={name:"app",components:{VueWinwheel:d}},f=m,x=(i("034f"),Object(u["a"])(f,s,a,!1,null,null,null));x.options.__file="App.vue";var p=x.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(p)}}).$mount("#app")},"610c":function(t,e,i){},"64a9":function(t,e,i){},b0fb:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Winwheel});var gsap__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("cffa");class Winwheel{constructor(t,e){var i={canvasId:"canvas",centerX:null,centerY:null,outerRadius:null,innerRadius:0,numSegments:1,drawMode:"code",rotationAngle:0,textFontFamily:"sans-serif",textFontSize:13,textFontWeight:"bold",textOrientation:"horizontal",textAlignment:"center",textDirection:"normal",textMargin:null,textFillStyle:"black",textStrokeStyle:null,textLineWidth:1,fillStyle:"silver",strokeStyle:null,lineWidth:1,clearTheCanvas:!0,imageOverlay:!1,drawText:!0,pointerAngle:0,wheelImage:null,imageDirection:"N"};for(var n in i)null!=t&&"undefined"!==typeof t[n]?this[n]=t[n]:this[n]=i[n];if(null!=t)for(var n in t)"undefined"===typeof this[n]&&(this[n]=t[n]);this.canvasId?(this.canvas=document.getElementById(this.canvasId),this.canvas?(null==this.centerX&&(this.centerX=this.canvas.width/2),null==this.centerY&&(this.centerY=this.canvas.height/2),null==this.outerRadius&&(this.canvas.width<this.canvas.height?this.outerRadius=this.canvas.width/2-this.lineWidth:this.outerRadius=this.canvas.height/2-this.lineWidth),this.ctx=this.canvas.getContext("2d")):(this.canvas=null,this.ctx=null)):(this.cavnas=null,this.ctx=null),this.segments=new Array(null);for(var s=1;s<=this.numSegments;s++)null!=t&&t["segments"]&&"undefined"!==typeof t["segments"][s-1]?this.segments[s]=new Segment(t["segments"][s-1]):this.segments[s]=new Segment;if(this.updateSegmentSizes(),null===this.textMargin&&(this.textMargin=this.textFontSize/1.7),null!=t&&t["animation"]&&"undefined"!==typeof t["animation"]?this.animation=new Animation(t["animation"]):this.animation=new Animation,null!=t&&t["pins"]&&"undefined"!==typeof t["pins"]&&(this.pins=new Pin(t["pins"])),"image"==this.drawMode||"segmentImage"==this.drawMode?("undefined"===typeof t["fillStyle"]&&(this.fillStyle=null),"undefined"===typeof t["strokeStyle"]&&(this.strokeStyle="red"),"undefined"===typeof t["drawText"]&&(this.drawText=!1),"undefined"===typeof t["lineWidth"]&&(this.lineWidth=1),"undefined"===typeof e&&(e=!1)):"undefined"===typeof e&&(e=!0),null!=t&&t["pointerGuide"]&&"undefined"!==typeof t["pointerGuide"]?this.pointerGuide=new PointerGuide(t["pointerGuide"]):this.pointerGuide=new PointerGuide,1==e)this.draw(this.clearTheCanvas);else if("segmentImage"==this.drawMode){winwheelToDrawDuringAnimation=this,winhweelAlreadyDrawn=!1;for(var a=1;a<=this.numSegments;a++)null!==this.segments[a].image&&(this.segments[a].imgData=new Image,this.segments[a].imgData.onload=winwheelLoadedImage,this.segments[a].imgData.src=this.segments[a].image)}}updateSegmentSizes(){if(this.segments){for(var t=0,e=0,i=1;i<=this.numSegments;i++)null!==this.segments[i].size&&(t+=this.segments[i].size,e++);var n=360-t,s=0;n>0&&(s=n/(this.numSegments-e));var a=0;for(i=1;i<=this.numSegments;i++)this.segments[i].startAngle=a,this.segments[i].size?a+=this.segments[i].size:a+=s,this.segments[i].endAngle=a}}clearCanvas(){this.ctx&&this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}draw(t){this.ctx&&("undefined"!==typeof t?1==t&&this.clearCanvas():this.clearCanvas(),"image"==this.drawMode?(this.drawWheelImage(),1==this.drawText&&this.drawSegmentText(),1==this.imageOverlay&&this.drawSegments()):"segmentImage"==this.drawMode?(this.drawSegmentImages(),1==this.drawText&&this.drawSegmentText(),1==this.imageOverlay&&this.drawSegments()):(this.drawSegments(),1==this.drawText&&this.drawSegmentText()),"undefined"!==typeof this.pins&&1==this.pins.visible&&this.drawPins(),1==this.pointerGuide.display&&this.drawPointerGuide())}drawPins(){if(this.pins&&this.pins.number)for(var t=360/this.pins.number,e=1;e<=this.pins.number;e++)this.ctx.save(),this.ctx.strokeStyle=this.pins.strokeStyle,this.ctx.lineWidth=this.pins.lineWidth,this.ctx.fillStyle=this.pins.fillStyle,this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(this.degToRad(e*t+this.rotationAngle)),this.ctx.translate(-this.centerX,-this.centerY),this.ctx.beginPath(),this.ctx.arc(this.centerX,this.centerY-this.outerRadius+this.pins.outerRadius+this.pins.margin,this.pins.outerRadius,0,2*Math.PI),this.pins.fillStyle&&this.ctx.fill(),this.pins.strokeStyle&&this.ctx.stroke(),this.ctx.restore()}drawPointerGuide(){this.ctx&&(this.ctx.save(),this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(this.degToRad(this.pointerAngle)),this.ctx.translate(-this.centerX,-this.centerY),this.ctx.strokeStyle=this.pointerGuide.strokeStyle,this.ctx.lineWidth=this.pointerGuide.lineWidth,this.ctx.beginPath(),this.ctx.moveTo(this.centerX,this.centerY),this.ctx.lineTo(this.centerX,-this.outerRadius/4),this.ctx.stroke(),this.ctx.restore())}drawWheelImage(){if(null!=this.wheelImage){var t=this.centerX-this.wheelImage.height/2,e=this.centerY-this.wheelImage.width/2;this.ctx.save(),this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(this.degToRad(this.rotationAngle)),this.ctx.translate(-this.centerX,-this.centerY),this.ctx.drawImage(this.wheelImage,t,e),this.ctx.restore()}}drawSegmentImages(){if(this.ctx&&this.segments)for(var t=1;t<=this.numSegments;t++){var e=this.segments[t];if(e.imgData.height){var i=0,n=0,s=0,a="";a=null!==e.imageDirection?e.imageDirection:this.imageDirection,"S"==a?(i=this.centerX-e.imgData.width/2,n=this.centerY,s=e.startAngle+180+(e.endAngle-e.startAngle)/2):"E"==a?(i=this.centerX,n=this.centerY-e.imgData.height/2,s=e.startAngle+270+(e.endAngle-e.startAngle)/2):"W"==a?(i=this.centerX-e.imgData.width,n=this.centerY-e.imgData.height/2,s=e.startAngle+90+(e.endAngle-e.startAngle)/2):(i=this.centerX-e.imgData.width/2,n=this.centerY-e.imgData.height,s=e.startAngle+(e.endAngle-e.startAngle)/2),this.ctx.save(),this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(this.degToRad(this.rotationAngle+s)),this.ctx.translate(-this.centerX,-this.centerY),this.ctx.drawImage(e.imgData,i,n),this.ctx.restore()}else console.log("Segment "+t+" imgData is not loaded")}}drawSegments(){if(this.ctx&&this.segments)for(var t=1;t<=this.numSegments;t++){var e,i,n,s=this.segments[t];e=null!==s.fillStyle?s.fillStyle:this.fillStyle,this.ctx.fillStyle=e,i=null!==s.lineWidth?s.lineWidth:this.lineWidth,this.ctx.lineWidth=i,n=null!==s.strokeStyle?s.strokeStyle:this.strokeStyle,this.ctx.strokeStyle=n,(n||e)&&(this.ctx.beginPath(),this.innerRadius||this.ctx.moveTo(this.centerX,this.centerY),this.ctx.arc(this.centerX,this.centerY,this.outerRadius,this.degToRad(s.startAngle+this.rotationAngle-90),this.degToRad(s.endAngle+this.rotationAngle-90),!1),this.innerRadius?this.ctx.arc(this.centerX,this.centerY,this.innerRadius,this.degToRad(s.endAngle+this.rotationAngle-90),this.degToRad(s.startAngle+this.rotationAngle-90),!0):this.ctx.lineTo(this.centerX,this.centerY),e&&this.ctx.fill(),n&&this.ctx.stroke())}}drawSegmentText(){if(this.ctx)for(var t,e,i,n,s,a,r,h,l,o,c,u=1;u<=this.numSegments;u++){this.ctx.save();var g=this.segments[u];if(g.text){t=null!==g.textFontFamily?g.textFontFamily:this.textFontFamily,e=null!==g.textFontSize?g.textFontSize:this.textFontSize,i=null!==g.textFontWeight?g.textFontWeight:this.textFontWeight,n=null!==g.textOrientation?g.textOrientation:this.textOrientation,s=null!==g.textAlignment?g.textAlignment:this.textAlignment,a=null!==g.textDirection?g.textDirection:this.textDirection,r=null!==g.textMargin?g.textMargin:this.textMargin,h=null!==g.textFillStyle?g.textFillStyle:this.textFillStyle,l=null!==g.textStrokeStyle?g.textStrokeStyle:this.textStrokeStyle,o=null!==g.textLineWidth?g.textLineWidth:this.textLineWidth,c="",null!=i&&(c+=i+" "),null!=e&&(c+=e+"px "),null!=t&&(c+=t),this.ctx.font=c,this.ctx.fillStyle=h,this.ctx.strokeStyle=l,this.ctx.lineWidth=o;var d=g.text.split("\n"),m=0-e*(d.length/2)+e/2;"curved"!=n||"inner"!=s&&"outer"!=s||(m=0);for(var f=0;f<d.length;f++){if("reversed"==a){if("horizontal"==n){this.ctx.textAlign="inner"==s?"right":"outer"==s?"left":"center",this.ctx.textBaseline="middle";var x=this.degToRad(g.endAngle-(g.endAngle-g.startAngle)/2+this.rotationAngle-90-180);this.ctx.save(),this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(x),this.ctx.translate(-this.centerX,-this.centerY),"inner"==s?(h&&this.ctx.fillText(d[f],this.centerX-this.innerRadius-r,this.centerY+m),l&&this.ctx.strokeText(d[f],this.centerX-this.innerRadius-r,this.centerY+m)):"outer"==s?(h&&this.ctx.fillText(d[f],this.centerX-this.outerRadius+r,this.centerY+m),l&&this.ctx.strokeText(d[f],this.centerX-this.outerRadius+r,this.centerY+m)):(h&&this.ctx.fillText(d[f],this.centerX-this.innerRadius-(this.outerRadius-this.innerRadius)/2-r,this.centerY+m),l&&this.ctx.strokeText(d[f],this.centerX-this.innerRadius-(this.outerRadius-this.innerRadius)/2-r,this.centerY+m)),this.ctx.restore()}else if("vertical"==n){this.ctx.textAlign="center",this.ctx.textBaseline="inner"==s?"top":"outer"==s?"bottom":"middle";x=g.endAngle-(g.endAngle-g.startAngle)/2-180;if(x+=this.rotationAngle,this.ctx.save(),this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(this.degToRad(x)),this.ctx.translate(-this.centerX,-this.centerY),"outer"==s)var p=this.centerY+this.outerRadius-r;else if("inner"==s)p=this.centerY+this.innerRadius+r;var w=e-e/9;if("outer"==s)for(var v=d[f].length-1;v>=0;v--)character=d[f].charAt(v),h&&this.ctx.fillText(character,this.centerX+m,p),l&&this.ctx.strokeText(character,this.centerX+m,p),p-=w;else if("inner"==s)for(v=0;v<d[f].length;v++)character=d[f].charAt(v),h&&this.ctx.fillText(character,this.centerX+m,p),l&&this.ctx.strokeText(character,this.centerX+m,p),p+=w;else if("center"==s){var A=0;d[f].length>1&&(A=w*(d[f].length-1)/2);for(p=this.centerY+this.innerRadius+(this.outerRadius-this.innerRadius)/2+A+r,v=d[f].length-1;v>=0;v--)character=d[f].charAt(v),h&&this.ctx.fillText(character,this.centerX+m,p),l&&this.ctx.strokeText(character,this.centerX+m,p),p-=w}this.ctx.restore()}else if("curved"==n){var y=0;"inner"==s?(y=this.innerRadius+r,this.ctx.textBaseline="top"):"outer"==s?(y=this.outerRadius-r,this.ctx.textBaseline="bottom",y-=e*(d.length-1)):"center"==s&&(y=this.innerRadius+r+(this.outerRadius-this.innerRadius)/2,this.ctx.textBaseline="middle");var S=0,T=0;for(d[f].length>1?(this.ctx.textAlign="left",S=e/10*4,radiusPercent=100/y,S*=radiusPercent,totalArc=S*d[f].length,T=g.startAngle+((g.endAngle-g.startAngle)/2-totalArc/2)):(T=g.startAngle+(g.endAngle-g.startAngle)/2,this.ctx.textAlign="center"),T+=this.rotationAngle,T-=180,v=d[f].length;v>=0;v--)this.ctx.save(),character=d[f].charAt(v),this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(this.degToRad(T)),this.ctx.translate(-this.centerX,-this.centerY),l&&this.ctx.strokeText(character,this.centerX,this.centerY+y+m),h&&this.ctx.fillText(character,this.centerX,this.centerY+y+m),T+=S,this.ctx.restore()}}else if("horizontal"==n){this.ctx.textAlign="inner"==s?"left":"outer"==s?"right":"center",this.ctx.textBaseline="middle";x=this.degToRad(g.endAngle-(g.endAngle-g.startAngle)/2+this.rotationAngle-90);this.ctx.save(),this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(x),this.ctx.translate(-this.centerX,-this.centerY),"inner"==s?(h&&this.ctx.fillText(d[f],this.centerX+this.innerRadius+r,this.centerY+m),l&&this.ctx.strokeText(d[f],this.centerX+this.innerRadius+r,this.centerY+m)):"outer"==s?(h&&this.ctx.fillText(d[f],this.centerX+this.outerRadius-r,this.centerY+m),l&&this.ctx.strokeText(d[f],this.centerX+this.outerRadius-r,this.centerY+m)):(h&&this.ctx.fillText(d[f],this.centerX+this.innerRadius+(this.outerRadius-this.innerRadius)/2+r,this.centerY+m),l&&this.ctx.strokeText(d[f],this.centerX+this.innerRadius+(this.outerRadius-this.innerRadius)/2+r,this.centerY+m)),this.ctx.restore()}else if("vertical"==n){this.ctx.textAlign="center",this.ctx.textBaseline="inner"==s?"bottom":"outer"==s?"top":"middle";x=g.endAngle-(g.endAngle-g.startAngle)/2;if(x+=this.rotationAngle,this.ctx.save(),this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(this.degToRad(x)),this.ctx.translate(-this.centerX,-this.centerY),"outer"==s)p=this.centerY-this.outerRadius+r;else if("inner"==s)p=this.centerY-this.innerRadius-r;w=e-e/9;if("outer"==s)for(v=0;v<d[f].length;v++)character=d[f].charAt(v),h&&this.ctx.fillText(character,this.centerX+m,p),l&&this.ctx.strokeText(character,this.centerX+m,p),p+=w;else if("inner"==s)for(v=d[f].length-1;v>=0;v--)character=d[f].charAt(v),h&&this.ctx.fillText(character,this.centerX+m,p),l&&this.ctx.strokeText(character,this.centerX+m,p),p-=w;else if("center"==s){A=0;d[f].length>1&&(A=w*(d[f].length-1)/2);for(p=this.centerY-this.innerRadius-(this.outerRadius-this.innerRadius)/2-A-r,v=0;v<d[f].length;v++)character=d[f].charAt(v),h&&this.ctx.fillText(character,this.centerX+m,p),l&&this.ctx.strokeText(character,this.centerX+m,p),p+=w}this.ctx.restore()}else if("curved"==n){y=0;"inner"==s?(y=this.innerRadius+r,this.ctx.textBaseline="bottom",y+=e*(d.length-1)):"outer"==s?(y=this.outerRadius-r,this.ctx.textBaseline="top"):"center"==s&&(y=this.innerRadius+r+(this.outerRadius-this.innerRadius)/2,this.ctx.textBaseline="middle");S=0,T=0;for(d[f].length>1?(this.ctx.textAlign="left",S=e/10*4,radiusPercent=100/y,S*=radiusPercent,totalArc=S*d[f].length,T=g.startAngle+((g.endAngle-g.startAngle)/2-totalArc/2)):(T=g.startAngle+(g.endAngle-g.startAngle)/2,this.ctx.textAlign="center"),T+=this.rotationAngle,v=0;v<d[f].length;v++)this.ctx.save(),character=d[f].charAt(v),this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(this.degToRad(T)),this.ctx.translate(-this.centerX,-this.centerY),l&&this.ctx.strokeText(character,this.centerX,this.centerY-y+m),h&&this.ctx.fillText(character,this.centerX,this.centerY-y+m),T+=S,this.ctx.restore()}m+=e}}this.ctx.restore()}}degToRad(t){return.017453292519943295*t}setCenter(t,e){this.centerX=t,this.centerY=e}addSegment(t,e){var i;if(newSegment=new Segment(t),this.numSegments++,"undefined"!==typeof e){for(var n=this.numSegments;n>e;n--)this.segments[n]=this.segments[n-1];this.segments[e]=newSegment,i=e}else this.segments[this.numSegments]=newSegment,i=this.numSegments;return this.updateSegmentSizes(),this.segments[i]}setCanvasId(t){t?(this.canvasId=t,this.canvas=document.getElementById(this.canvasId),this.canvas&&(this.ctx=this.canvas.getContext("2d"))):(this.canvasId=null,this.ctx=null,this.canvas=null)}deleteSegment(t){if(this.numSegments>1){if("undefined"!==typeof t)for(var e=t;e<this.numSegments;e++)this.segments[e]=this.segments[e+1];this.segments[this.numSegments]=void 0,this.numSegments--,this.updateSegmentSizes()}}windowToCanvas(t,e){var i=this.canvas.getBoundingClientRect();return{x:Math.floor(t-i.left*(this.canvas.width/i.width)),y:Math.floor(e-i.top*(this.canvas.height/i.height))}}getSegmentAt(t,e){var i=null,n=this.getSegmentNumberAt(t,e);return null!==n&&(i=this.segments[n]),i}getSegmentNumberAt(t,e){var i,n,s,a,r,h=this.windowToCanvas(t,e);h.x>this.centerX?(s=h.x-this.centerX,n="R"):(s=this.centerX-h.x,n="L"),h.y>this.centerY?(a=h.y-this.centerY,i="B"):(a=this.centerY-h.y,i="T");var l=a/s,o=180*Math.atan(l)/Math.PI,c=0;if(r=Math.sqrt(a*a+s*s),"T"==i&&"R"==n?c=Math.round(90-o):"B"==i&&"R"==n?c=Math.round(o+90):"B"==i&&"L"==n?c=Math.round(90-o+180):"T"==i&&"L"==n&&(c=Math.round(o+270)),0!=this.rotationAngle){var u=this.getRotationPosition();c-=u,c<0&&(c=360-Math.abs(c))}var g=null;for(t=1;t<=this.numSegments;t++)if(c>=this.segments[t].startAngle&&c<=this.segments[t].endAngle&&r>=this.innerRadius&&r<=this.outerRadius){g=t;break}return g}getIndicatedSegment(){var t=this.getIndicatedSegmentNumber();return this.segments[t]}getIndicatedSegmentNumber(){var t=0,e=this.getRotationPosition(),i=Math.floor(this.pointerAngle-e);i<0&&(i=360-Math.abs(i));for(var n=1;n<this.segments.length;n++)if(i>=this.segments[n]["startAngle"]&&i<=this.segments[n]["endAngle"]){t=n;break}return t}getCurrentPinNumber(){var t=0;if(this.pins){var e=this.getRotationPosition(),i=Math.floor(this.pointerAngle-e);i<0&&(i=360-Math.abs(i));for(var n=360/this.pins.number,s=0,a=0;a<this.pins.number;a++){if(i>=s&&i<=s+n){t=a;break}s+=n}"clockwise"==this.animation.direction&&(t++,t>this.pins.number&&(t=0))}return t}getRotationPosition(){var t=this.rotationAngle;if(t>=0){if(t>360){var e=Math.floor(t/360);t-=360*e}}else{if(t<-360){e=Math.ceil(t/360);t-=360*e}t=360+t}return t}startAnimation(){if(this.animation){this.computeAnimation(),winwheelToDrawDuringAnimation=this;var t=new Array(null);t[this.animation.propertyName]=this.animation.propertyValue,t["yoyo"]=this.animation.yoyo,t["repeat"]=this.animation.repeat,t["ease"]=this.animation.easing,t["onUpdate"]=winwheelAnimationLoop,t["onComplete"]=winwheelStopAnimation,this.tween=gsap__WEBPACK_IMPORTED_MODULE_0__["a"].to(this,this.animation.duration,t)}}stopAnimation(t){winwheelToDrawDuringAnimation&&(winwheelToDrawDuringAnimation.tween.kill(),winwheelStopAnimation(t)),winwheelToDrawDuringAnimation=this}pauseAnimation(){this.tween&&this.tween.pause()}resumeAnimation(){this.tween&&this.tween.play()}computeAnimation(){this.animation&&("spinOngoing"==this.animation.type?(this.animation.propertyName="rotationAngle",null==this.animation.spins&&(this.animation.spins=5),null==this.animation.repeat&&(this.animation.repeat=-1),null==this.animation.easing&&(this.animation.easing="Linear.easeNone"),null==this.animation.yoyo&&(this.animation.yoyo=!1),this.animation.propertyValue=360*this.animation.spins,"anti-clockwise"==this.animation.direction&&(this.animation.propertyValue=0-this.animation.propertyValue)):"spinToStop"==this.animation.type?(this.animation.propertyName="rotationAngle",null==this.animation.spins&&(this.animation.spins=5),null==this.animation.repeat&&(this.animation.repeat=0),null==this.animation.easing&&(this.animation.easing="Power3.easeOut"),null==this.animation.stopAngle?this.animation._stopAngle=Math.floor(359*Math.random()):this.animation._stopAngle=360-this.animation.stopAngle+this.pointerAngle,null==this.animation.yoyo&&(this.animation.yoyo=!1),this.animation.propertyValue=360*this.animation.spins,"anti-clockwise"==this.animation.direction?(this.animation.propertyValue=0-this.animation.propertyValue,this.animation.propertyValue-=360-this.animation._stopAngle):this.animation.propertyValue+=this.animation._stopAngle):"spinAndBack"==this.animation.type?(this.animation.propertyName="rotationAngle",null==this.animation.spins&&(this.animation.spins=5),null==this.animation.repeat&&(this.animation.repeat=1),null==this.animation.easing&&(this.animation.easing="Power2.easeInOut"),null==this.animation.yoyo&&(this.animation.yoyo=!0),null==this.animation.stopAngle?this.animation._stopAngle=0:this.animation._stopAngle=360-this.animation.stopAngle,this.animation.propertyValue=360*this.animation.spins,"anti-clockwise"==this.animation.direction?(this.animation.propertyValue=0-this.animation.propertyValue,this.animation.propertyValue-=360-this.animation._stopAngle):this.animation.propertyValue+=this.animation._stopAngle):this.animation.type)}getRandomForSegment(t){var e=0;if(t)if("undefined"!==typeof this.segments[t]){var i=this.segments[t].startAngle,n=this.segments[t].endAngle,s=n-i-2;s>0?e=i+1+Math.floor(Math.random()*s):console.log("Segment size is too small to safely get random angle inside it")}else console.log("Segment "+t+" undefined");else console.log("Segment number not specified");return e}}class Pin{constructor(t){var e={visible:!0,number:36,outerRadius:3,fillStyle:"grey",strokeStyle:"black",lineWidth:1,margin:3};for(var i in e)null!=t&&"undefined"!==typeof t[i]?this[i]=t[i]:this[i]=e[i];if(null!=t)for(var i in t)"undefined"===typeof this[i]&&(this[i]=t[i])}}class Animation{constructor(t){var e={type:"spinOngoing",direction:"clockwise",propertyName:null,propertyValue:null,duration:10,yoyo:!1,repeat:null,easing:null,stopAngle:null,spins:null,clearTheCanvas:null,callbackFinished:null,callbackBefore:null,callbackAfter:null,callbackSound:null,soundTrigger:"segment"};for(var i in e)null!=t&&"undefined"!==typeof t[i]?this[i]=t[i]:this[i]=e[i];if(null!=t)for(var i in t)"undefined"===typeof this[i]&&(this[i]=t[i])}}class Segment{constructor(t){var e={size:null,text:"",fillStyle:null,strokeStyle:null,lineWidth:null,textFontFamily:null,textFontSize:null,textFontWeight:null,textOrientation:null,textAlignment:null,textDirection:null,textMargin:null,textFillStyle:null,textStrokeStyle:null,textLineWidth:null,image:null,imageDirection:null,imgData:null};for(var i in e)null!=t&&"undefined"!==typeof t[i]?this[i]=t[i]:this[i]=e[i];if(null!=t)for(var i in t)"undefined"===typeof this[i]&&(this[i]=t[i]);this.startAngle=0,this.endAngle=0}changeImage(t,e){this.image=t,this.imgData=null,e&&(this.imageDirection=e),winhweelAlreadyDrawn=!1,this.imgData=new Image,this.imgData.onload=winwheelLoadedImage,this.imgData.src=this.image}}class PointerGuide{constructor(t){var e={display:!1,strokeStyle:"red",lineWidth:3};for(var i in e)null!=t&&"undefined"!==typeof t[i]?this[i]=t[i]:this[i]=e[i]}}function winwheelPercentToDegrees(t){var e=0;if(t>0&&t<=100){var i=t/100;e=360*i}return e}function winwheelAnimationLoop(){if(winwheelToDrawDuringAnimation){0!=winwheelToDrawDuringAnimation.animation.clearTheCanvas&&winwheelToDrawDuringAnimation.ctx.clearRect(0,0,winwheelToDrawDuringAnimation.canvas.width,winwheelToDrawDuringAnimation.canvas.height);var callbackBefore=winwheelToDrawDuringAnimation.animation.callbackBefore,callbackAfter=winwheelToDrawDuringAnimation.animation.callbackAfter;null!=callbackBefore&&("function"===typeof callbackBefore?callbackBefore():eval(callbackBefore)),winwheelToDrawDuringAnimation.draw(!1),null!=callbackAfter&&("function"===typeof callbackAfter?callbackAfter():eval(callbackAfter)),winwheelToDrawDuringAnimation.animation.callbackSound&&winwheelTriggerSound()}}function winwheelTriggerSound(){0==winwheelToDrawDuringAnimation.hasOwnProperty("_lastSoundTriggerNumber")&&(winwheelToDrawDuringAnimation._lastSoundTriggerNumber=0);var callbackSound=winwheelToDrawDuringAnimation.animation.callbackSound,currentTriggerNumber=0;currentTriggerNumber="pin"==winwheelToDrawDuringAnimation.animation.soundTrigger?winwheelToDrawDuringAnimation.getCurrentPinNumber():winwheelToDrawDuringAnimation.getIndicatedSegmentNumber(),currentTriggerNumber!=winwheelToDrawDuringAnimation._lastSoundTriggerNumber&&("function"===typeof callbackSound?callbackSound():eval(callbackSound),winwheelToDrawDuringAnimation._lastSoundTriggerNumber=currentTriggerNumber)}var winwheelToDrawDuringAnimation=null;function winwheelStopAnimation(canCallback){if(0!=canCallback){var callback=winwheelToDrawDuringAnimation.animation.callbackFinished;null!=callback&&("function"===typeof callback?callback(winwheelToDrawDuringAnimation.getIndicatedSegment()):eval(callback))}}var winhweelAlreadyDrawn=!1;function winwheelLoadedImage(){if(0==winhweelAlreadyDrawn){for(var t=0,e=1;e<=winwheelToDrawDuringAnimation.numSegments;e++)null!=winwheelToDrawDuringAnimation.segments[e].imgData&&winwheelToDrawDuringAnimation.segments[e].imgData.height&&t++;t==winwheelToDrawDuringAnimation.numSegments&&(winhweelAlreadyDrawn=!0,winwheelToDrawDuringAnimation.draw())}}}});
//# sourceMappingURL=app.79c1a67c.js.map